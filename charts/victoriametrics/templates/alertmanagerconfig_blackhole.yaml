apiVersion: monitoring.coreos.com/v1alpha1
kind: AlertmanagerConfig
metadata:
  name: mute-nextcloud-pgdumpall
spec:
  receivers:
    - name: blackhole
  route:
    continue: false
    groupInterval: 1m
    receiver: blackhole
    routes:
    - receiver: blackhole
      matchers:
        - name: namespace
          value: nextcloud
          matchType: "="
        - name: alertgroup
          value: general.rules
          matchType: "="
        - name: alertname
          value: InfoInhibitor
          matchType: "="
        - name: exported_alertname
          value: CPUThrottlingHigh
          matchType: "="
        - name: exported_severity
          value: info
          matchType: "="
        - name: severity
          value: none
          matchType: "="
---
apiVersion: operator.victoriametrics.com/v1beta1
kind: VMAlertmanagerConfig
metadata:
  name: mute-nextcloud-pgdumpall
spec:
  receivers:
    - name: blackhole
  route:
    continue: false
    group_interval: 1m
    receiver: blackhole
    routes:
      - matchers:
          - namespace="nextcloud"
          - alertgroup="general.rules"
          - alertname="InfoInhibitor"
          - exported_alertname="CPUThrottlingHigh"
          - exported_severity="info"
          - severity="none"
        receiver: blackhole
        continue: false
---
apiVersion: monitoring.coreos.com/v1alpha1
kind: AlertmanagerConfig
metadata:
  name: mute-watchdog
spec:
  receivers:
    - name: blackhole
  route:
    continue: false
    groupInterval: 1m
    receiver: blackhole
    routes:
    - receiver: blackhole
      matchers:
        - name: alertname
          value: "Watchdog"
          matchType: "="
---
apiVersion: operator.victoriametrics.com/v1beta1
kind: VMAlertmanagerConfig
metadata:
  name: mute-watchdog
spec:
  receivers:
    - name: blackhole
  route:
    continue: false
    group_interval: 1m
    receiver: blackhole
    routes:
      - matchers:
          - alertname="Watchdog"
        receiver: blackhole
        continue: false
